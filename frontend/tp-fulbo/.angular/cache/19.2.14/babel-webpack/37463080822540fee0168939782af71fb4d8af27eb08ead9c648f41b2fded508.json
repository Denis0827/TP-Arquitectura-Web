{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable, inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../../../environments/environment';\nlet UserService = class UserService {\n  http = inject(HttpClient);\n  apiUrl = `${environment.apiUrl}/api/user`;\n  constructor() {}\n  getCurrentUser() {\n    return this.http.get(`${this.apiUrl}/me`);\n  }\n  updateProfile(userId, data) {\n    return this.http.put(`${this.apiUrl}/${userId}`, data);\n  }\n  changePassword(userId, data) {\n    return this.http.post(`${this.apiUrl}/${userId}/change-password`, data);\n  }\n  getAllUsers() {\n    return this.http.get(this.apiUrl);\n  }\n  getUserById(userId) {\n    return this.http.get(`${this.apiUrl}/${userId}`);\n  }\n  updateUserRole(userId, role) {\n    return this.http.put(`${this.apiUrl}/${userId}/role`, {\n      role\n    });\n  }\n  // Registro de jugador\n  registerPlayer(request) {\n    return this.http.post(`${this.apiUrl}/register`, request);\n  }\n  // Login\n  login(request) {\n    return this.http.post(`${this.apiUrl}/login`, request);\n  }\n  // Convertir jugador a coach\n  createCoach(playerId) {\n    return this.http.post(`${this.apiUrl}/players/${playerId}/coach`, {});\n  }\n  // Obtener todos los coaches\n  getAllCoaches() {\n    return this.http.get(`${this.apiUrl}/coaches`);\n  }\n  // Obtener coach por ID\n  getCoachById(idCoach) {\n    return this.http.get(`${this.apiUrl}/coaches/${idCoach}`);\n  }\n  // Eliminar coach\n  deleteCoach(idCoach) {\n    return this.http.delete(`${this.apiUrl}/coaches/${idCoach}`);\n  }\n  // Obtener todos los jugadores\n  getAllPlayers() {\n    return this.http.get(`${this.apiUrl}/players`);\n  }\n  // Obtener jugador por ID\n  getPlayerById(idPlayer) {\n    return this.http.get(`${this.apiUrl}/players/${idPlayer}`);\n  }\n  // Eliminar jugador\n  deletePlayer(idPlayer) {\n    return this.http.delete(`${this.apiUrl}/players/${idPlayer}`);\n  }\n  static ctorParameters = () => [];\n};\nUserService = __decorate([Injectable({\n  providedIn: 'root'\n})], UserService);\nexport { UserService };","map":{"version":3,"names":["Injectable","inject","HttpClient","environment","UserService","http","apiUrl","constructor","getCurrentUser","get","updateProfile","userId","data","put","changePassword","post","getAllUsers","getUserById","updateUserRole","role","registerPlayer","request","login","createCoach","playerId","getAllCoaches","getCoachById","idCoach","deleteCoach","delete","getAllPlayers","getPlayerById","idPlayer","deletePlayer","__decorate","providedIn"],"sources":["/Users/gs/Desktop/GS/DITELLA/ARQUITECTURA WEB/TP-Arquitectura-Web/frontend/tp-fulbo/src/app/features/users/services/user.service.ts"],"sourcesContent":["import { Injectable, inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../../environments/environment';\n\n// Import models\nimport { Player, Coach } from '../../../models/user.model';\nimport { PlayerRequest, LoginRequest } from '../../../models/requests/player.request';\nimport { LoginResponse, PlayerResponse, CoachResponse } from '../../../models/responses/login.response';\n\nexport interface User {\n  id: number;\n  username: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n}\n\nexport interface UpdateUserRequest {\n  firstName?: string;\n  lastName?: string;\n  email?: string;\n}\n\nexport interface ChangePasswordRequest {\n  currentPassword: string;\n  newPassword: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n  private http = inject(HttpClient);\n  private apiUrl = `${environment.apiUrl}/api/user`;\n\n  constructor() {}\n\n  getCurrentUser(): Observable<User> {\n    return this.http.get<User>(`${this.apiUrl}/me`);\n  }\n\n  updateProfile(userId: number, data: UpdateUserRequest): Observable<User> {\n    return this.http.put<User>(`${this.apiUrl}/${userId}`, data);\n  }\n\n  changePassword(userId: number, data: ChangePasswordRequest): Observable<void> {\n    return this.http.post<void>(`${this.apiUrl}/${userId}/change-password`, data);\n  }\n\n  getAllUsers(): Observable<User[]> {\n    return this.http.get<User[]>(this.apiUrl);\n  }\n\n  getUserById(userId: number): Observable<User> {\n    return this.http.get<User>(`${this.apiUrl}/${userId}`);\n  }\n\n  updateUserRole(userId: number, role: string): Observable<User> {\n    return this.http.put<User>(`${this.apiUrl}/${userId}/role`, { role });\n  }\n\n  // Registro de jugador\n  registerPlayer(request: PlayerRequest): Observable<PlayerResponse> {\n    return this.http.post<PlayerResponse>(`${this.apiUrl}/register`, request);\n  }\n\n  // Login\n  login(request: LoginRequest): Observable<LoginResponse> {\n    return this.http.post<LoginResponse>(`${this.apiUrl}/login`, request);\n  }\n\n  // Convertir jugador a coach\n  createCoach(playerId: number): Observable<CoachResponse> {\n    return this.http.post<CoachResponse>(`${this.apiUrl}/players/${playerId}/coach`, {});\n  }\n\n  // Obtener todos los coaches\n  getAllCoaches(): Observable<Coach[]> {\n    return this.http.get<Coach[]>(`${this.apiUrl}/coaches`);\n  }\n\n  // Obtener coach por ID\n  getCoachById(idCoach: number): Observable<Coach> {\n    return this.http.get<Coach>(`${this.apiUrl}/coaches/${idCoach}`);\n  }\n\n  // Eliminar coach\n  deleteCoach(idCoach: number): Observable<CoachResponse> {\n    return this.http.delete<CoachResponse>(`${this.apiUrl}/coaches/${idCoach}`);\n  }\n\n  // Obtener todos los jugadores\n  getAllPlayers(): Observable<Player[]> {\n    return this.http.get<Player[]>(`${this.apiUrl}/players`);\n  }\n\n  // Obtener jugador por ID\n  getPlayerById(idPlayer: number): Observable<Player> {\n    return this.http.get<Player>(`${this.apiUrl}/players/${idPlayer}`);\n  }\n\n  // Eliminar jugador\n  deletePlayer(idPlayer: number): Observable<CoachResponse> {\n    return this.http.delete<CoachResponse>(`${this.apiUrl}/players/${idPlayer}`);\n  }\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}