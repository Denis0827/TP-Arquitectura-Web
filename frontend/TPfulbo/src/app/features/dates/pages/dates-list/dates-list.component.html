<div class="dates-container">
  <div class="dates-header">
    <h2>{{ isCoach ? 'Gestión de Fechas' : 'Próximas Fechas' }}</h2>
    <button *ngIf="isCoach" class="new-date-button" routerLink="/dates/new">
      + Nueva Fecha
    </button>
  </div>

  <!-- Loading state -->
  <div *ngIf="loading" class="loading-state">
    <p>Cargando fechas...</p>
  </div>

  <!-- Error state -->
  <div *ngIf="error" class="error-state">
    <p>{{ error }}</p>
    <button class="btn-retry" (click)="ngOnInit()">
      Reintentar
    </button>
  </div>

  <!-- Content state -->
  <div *ngIf="!loading && !error" class="dates-grid">
    <ng-container *ngIf="dates.length > 0; else noDates">
      <ng-container *ngFor="let date of dates">
        <!-- Mostrar el componente según el rol del usuario -->
        <app-date-list-player-card 
          *ngIf="!isCoach" 
          [date]="date">
        </app-date-list-player-card>
        
        <app-date-list-coach-card 
          *ngIf="isCoach" 
          [date]="date">
        </app-date-list-coach-card>
      </ng-container>
    </ng-container>

    <ng-template #noDates>
      <div class="no-dates">
        <p>No hay fechas disponibles</p>
      </div>
    </ng-template>
  </div>
</div>
